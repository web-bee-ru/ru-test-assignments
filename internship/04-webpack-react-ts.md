# Тестовое задание на базовую настройку React приложения

Реализуем на github или codesandbox

## Стек

- `react@18`
- `typescript@4`
- `webpack@5`
- `react-router@6`

## Требования

- **не используем CRA - Eject**
- **не используем babel** *(он медленный, как альтернатива можно посмотреть на swc loader)*
- поддержка импорта `.ts/.tsx/.js/.jsx` файлов
- поддержка `process.env.*` переменных на уровне приложения, например `process.env.BASE_PATH` (DefinePlugin)
- не фейлить сборку из-за ts ошибок в dev режиме (чтобы можно было работать даже с ts ошибками)
- фейлить сборку из-за ts ошибок в prod режиме (чтобы нельзя было собрать бандл с ts ошибками)
- поддержка импорта `.png/.jpg`
- поддержка импорта `.woff/.woff2`
- поддержка импорта `.css`
- поддержка импорта `.scss/.sass` (опционально, т.к. встречается редко)
- поддержка импорта `.svg` файлов: (1) как компонент и (2) как строку
- вынос полученных css в отделный(е) `.css` чанки (в prod режиме)
- поддержка `.env` файла (dotenv)
- типизация импортов из файлов `.svg/.png/.woff/.css` и т.д.
- npm скрипты: `npm run dev` (запуск в dev режиме), `npm run build` (сборка статики), `npm run start` (раздаём статику, prod режим)
- (в dev и prod режиме) если есть роут `/home` и роут `/`, то обновление страницы (F5) на `/home` **должно** открывать содержимое `/home`, а не показывать 404

### Дополнительные требования

- использовать `esbuild-loader` вместо `ts-loader` (он быстрее)
- приложение должно поддерживать настройку переменной `process.env.BASE_PATH`: если это `/app`, то приложение (включая `react-router`) должно использовать этот путь как "базовый" (`basePath`) и работать относительно него. Например `/home` -> `/app/home`
- генерация `/vesion.json` файла с информацией о дате сборке и версии модуля
- оптимизация бандла

1) разбитие бандла на отдельные .js чанки (`optimization: { splitChunks: { ... } }`)
2) вынос тяжёлых библиотек в отдельные чанки (например на примере библиотеки `exceljs`)

- настроить proxy до потенциального backend сервера (например до `https://api.github.com/`) (`devServer: { proxy: { ... } }`)
- автоматическая настройка `resolve.alias` через `tsconfig.json (paths)`

### Экспертный уровень

Если будете делать, то оформляйте **дополнительный PR** поверх реализации предыдущих требований (иначе PR получится слишком большой).

#### Реализовать генерацию полного списка изменений на уровне webpack

Реализовать и подключить плагин, который будет собирать историю коммитов и формировать `/CHANGELOG.md` и `/CHANGELOG.html` ("отрендеренная" версия `.md` файла) с полным списком коммитов, с ссылками на каждый коммит.

Пример итогового файла - [CHANGELOG.md](https://github.com/conventional-changelog/standard-version/blob/master/CHANGELOG.md)

#### Module Federation

Подключить и настроить `Webpack Module Federation`. Добавить ещё одно приложение (`child`), которое будет подключаться в родительское (`parent`).

Прикрутить возможность типизации `exposed` модулей, чтобы `parent` мог подключить типы и типизировать подключаемые `child` модули.
