# Тестовое задание на React компонент Modal (+ ModalProvider)

Реализуем на github или codesandbox

Написать manager модальных окон для react приложения

**Зачем**: бывают случаи, когда в интерфейсе требуются вложенные модальки. Без менеджера они будут конфликтовать между собой.

Полезная информация про поведение модальных окон: https://www.w3.org/WAI/ARIA/apg/patterns/dialogmodal/

## Стек

- `react@18`
- `typescript@5`
- `styled-components`/`emotion`

## Требования

- открытие / закрытие модалок по клику на кнопку **\***
- менеджмент реализуем в компоненте `ModalProvider`
- у модалек затемнение на заднем фоне **\***
- модальки выравнены по центру
- остальная часть приложения должна должна перестать ловить фокус (например от кнопки Tab). Теперь только элементы модальки ловят фокус.
- модальки отключают скролл окна. Закрытие модальки возвращает скролл туда, где он был во время открытия
- контент новой модальки рисуется вместо контента предыдущей. То есть я не должен видеть куски родительской модальки, пока вижу дочернюю. **\***
- клавиша `Escape` должна вызывать `onClose` у текущей модальки (а не у всех открытых). При этом можно отключить закрытие по `Escape` через проп `closeOnEscape` **\***
- клик вне модальки (по тёмному фону) должен `вызывать onClose` **\***
- если открыто несколько модалек, то модалька в своём хедере должна писать, какая это модалька по счёту (*"Номер окна: 4"*) **\***
- dom узел родителя модальки должен рендерится не в том же dom узле, где он был вызван, а должен быть во "вне", в то есть корне `<body>` (например)
- "иерархия" (последовательность) модалек (предыдущий-следующий) формируется не из порядка объявления, а из порядка открытия (например `child` открыли последним, поэтому его мы видим на экране). При этом валидна ситуация, что при закрытии дочерней модальки, родительской уже не окажется, т.к. её кто-то успел спрятать программно. **\***
- добавить поддержку пропа `important`, чтобы такая модалька была всегда **поверх дургих модалек**. Т.к. их может быть несколько, то последняя открытая `important` находится поверх остальных `important` модалек.

\* требования со '\*' покрыты тестами

### Разработка

Для локальной разработки можно использовать папку `05-modal-react`. Для запуска дев сервера перейдите туда и напишите `npm run start`. Если вам не нравится заготовленный шаблон в `client/main/App.tsx`, можете его удалить и сделать все по вашему усмортрению, только сохраните `data-test` атрибуты на ключевых элементах. Они нужны для автотестов.

### Тесты

В папке `05-modal-react` импортируйте ваши модули в `client/main/App.tsx`, затем запустите
```
npm run start
npm run test-headless
```
